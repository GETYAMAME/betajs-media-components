/*!
betajs-media-components - v0.0.1 - 2015-11-24
Copyright (c) Oliver Friedmann
MIT Software License.
*/
(function(){var a=this.subScope();a.binding("module","global:BetaJS.MediaComponents"),a.binding("base","global:BetaJS"),a.binding("jquery","global:jQuery"),a.define("module:",function(){return{guid:"7a20804e-be62-4982-91c6-98eb096d2e70",version:"3.1448416756665"}}),BetaJS=BetaJS||{},BetaJS.MediaComponents=BetaJS.MediaComponents||{},BetaJS.MediaComponents.Templates=BetaJS.MediaComponents.Templates||{},BetaJS.MediaComponents.Templates.controlbar=' <div class="{{css}}-dashboard">  <div class="{{css}}-progressbar {{expandedprogress ? \'\' : (css + \'-progressbar-small\')}}"       onmousedown="{{startUpdatePosition(domEvent)}}"       onmouseup="{{stopUpdatePosition(domEvent)}}"       onmouseleave="{{stopUpdatePosition(domEvent)}}"       onmousemove="{{progressUpdatePosition(domEvent)}}">   <div class="{{css}}-progressbar-cache" ba-styles="{{{width: Math.round(cached / duration * 100) + \'%\'}}}"></div>   <div class="{{css}}-progressbar-position" ba-styles="{{{width: Math.round(position / duration * 100) + \'%\'}}}">    <div class="{{css}}-progressbar-button"></div>   </div>  </div>  <div class="{{css}}-backbar"></div>  <div class="{{css}}-controlbar">   <div class="{{css}}-leftbutton-container">    <div class="{{css}}-button-inner" ba-show="{{!pausable}}" ba-click="play()">     <i class="{{css}}-icon-play"></i>    </div>             <div class="{{css}}-button-inner" ba-show="{{pausable}}" ba-click="pause()">                 <i class="{{css}}-icon-pause"></i>             </div>   </div>   <div class="{{css}}-time-container">    <div class="{{css}}-time-value">{{position_formatted}}</div>    <div class="{{css}}-time-sep">/</div>    <div class="{{css}}-time-value">{{duration_formatted}}</div>   </div>   <div class="{{css}}-rightbutton-container">    <div class="{{css}}-button-inner" ba-click="toggle_fullscreen()">     <i class="{{css}}-icon-resize-full"></i>    </div>   </div>   <div class="{{css}}-volumebar">    <div class="{{css}}-volumebar-inner"         onmousedown="{{startUpdateVolume(domEvent)}}"                  onmouseup="{{stopUpdateVolume(domEvent)}}"                  onmouseleave="{{stopUpdateVolume(domEvent)}}"                  onmousemove="{{progressUpdateVolume(domEvent)}}">     <div class="{{css}}-volumebar-position" ba-styles="{{{width: Math.round(volume * 100) + \'%\'}}}"></div>     <div class="{{css}}-volumebar-button"></div>    </div>   </div>   <div class="{{css}}-rightbutton-container">    <div class="{{css}}-button-inner" ba-click="toggle_volume()">     <i class="{{css}}-icon-volume-up"></i>    </div>   </div>  </div> </div> ',BetaJS.MediaComponents.Templates.loader=" <div class=\"{{css}}-loader-container\">     <div class='{{css}}-loader-loader'>     </div> </div>",BetaJS.MediaComponents.Templates.message=' <div class="{{css}}-message-container" ba-click="click()">     <div class=\'{{css}}-message-message\'>         {{message}}     </div> </div>',BetaJS.MediaComponents.Templates.playbutton=' <div class="{{css}}-playbutton-container">  <div class="{{css}}-playbutton-button" ba-click="play()"></div> </div> ',a.define("module:VideoPlayer.Dynamics.Controlbar",["base:Dynamics.Dynamic","base:Time","module:Templates","jquery:"],function(a,b,c,d,e){return a.extend({scoped:e},function(a){return{template:c.controlbar,attrs:{css:"ba-videoplayer",duration:3e5,position:18e4,cached:24e4,volume:.6,expandedprogress:!0,pausable:!1},functions:{startUpdatePosition:function(a){a[0].preventDefault(),this.set("_updatePosition",!0),this.call("progressUpdatePosition",a)},progressUpdatePosition:function(a){a[0].preventDefault(),this.get("_updatePosition")&&this.set("position",this.get("duration")*(a[0].clientX-d(a[0].currentTarget).offset().left)/d(a[0].currentTarget).width())},stopUpdatePosition:function(a){a[0].preventDefault(),this.set("_updatePosition",!1)},startUpdateVolume:function(a){a[0].preventDefault(),this.set("_updateVolume",!0),this.call("progressUpdateVolume",a)},progressUpdateVolume:function(a){a[0].preventDefault(),this.get("_updateVolume")&&this.set("volume",(a[0].clientX-d(a[0].currentTarget).offset().left)/d(a[0].currentTarget).width())},stopUpdateVolume:function(a){a[0].preventDefault(),this.set("_updateVolume",!1)},play:function(){alert("play")},pause:function(){alert("pause")},toggle_volume:function(){alert("toggle volume")},toggle_fullscreen:function(){alert("toggle fullscreen")}},create:function(){this.properties().compute("position_formatted",function(){return b.formatTime(this.get("position"),"mm:ss")},["position"]),this.properties().compute("duration_formatted",function(){return b.formatTime(this.get("duration"),"mm:ss")},["duration"]);var a=this;setInterval(function(){a.set("expandedprogress",!a.get("expandedprogress")),a.set("pausable",!a.get("pausable"))},2500)}}}).register("ba-videoplayer-controlbar")}),a.define("module:VideoPlayer.Dynamics.Loader",["base:Dynamics.Dynamic","module:Templates"],function(a,b,c){return a.extend({scoped:c},function(a){return{template:b.loader,attrs:{css:"ba-videoplayer"}}}).register("ba-videoplayer-loader")}),a.define("module:VideoPlayer.Dynamics.Message",["base:Dynamics.Dynamic","module:Templates"],function(a,b,c){return a.extend({scoped:c},function(a){return{template:b.message,attrs:{css:"ba-videoplayer",message:"Foobar"},functions:{click:function(){alert("click")}}}}).register("ba-videoplayer-message")}),a.define("module:VideoPlayer.Dynamics.Playbutton",["base:Dynamics.Dynamic","module:Templates"],function(a,b,c){return a.extend({scoped:c},function(a){return{template:b.playbutton,attrs:{css:"ba-videoplayer"},functions:{play:function(){alert("play")}}}}).register("ba-videoplayer-playbutton")})}).call(Scoped);